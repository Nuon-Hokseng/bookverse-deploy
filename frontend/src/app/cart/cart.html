<main class="bg-[#2A2520] min-h-screen p-5 md:p-10 text-white">
  <!-- Hero / Page Title -->
  <section class="text-center mb-10">
    <h1 class="text-3xl md:text-5xl font-bold text-[#D4AF37]">Your Cart</h1>
    <div class="w-20 h-1 bg-[#D4AF37] rounded-full mx-auto mt-3"></div>
  </section>

  <!-- Cart Items -->
  <section class="space-y-6">
    <div *ngIf="cart.items().length > 0; else emptyCart">
      <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
        <li
          *ngFor="let item of cart.items()"
          class="bg-[#3A322B] rounded-xl p-5 flex flex-col justify-between"
        >
          <!-- Book Logo / Image -->
          <div
            class="flex w-full h-80 md:h-96 items-center justify-center bg-[#2A2520] rounded-xl mb-3 overflow-hidden"
          >
            <img
              *ngIf="item.coverImage"
              [src]="item.coverImage"
              [alt]="item.title"
              class="w-full h-full object-cover"
              (error)="$event.target.src = ''"
            />
            <span *ngIf="!item.coverImage" class="text-[#5A534C] text-lg"
              >No Cover</span
            >
          </div>

          <!-- Book Info -->
          <div
            class="flex flex-col md:flex-row justify-between items-start md:items-center mb-3 space-y-2 md:space-y-0 md:space-x-2"
          >
            <div class="flex flex-col space-y-1">
              <div class="font-bold text-lg md:text-xl">{{ item.title }}</div>
              <div class="text-sm opacity-80">{{ item.author }}</div>
              <div
                class="mt-1 text-sm w-fit px-3 py-1 rounded-xl bg-[#D4AF37] text-black"
              >
                {{ item.genre }}
              </div>
              <div class="mt-1 text-sm">Quantity: {{ item.quantity }}</div>
            </div>
            <div
              class="text-[#D4AF37] text-2xl md:text-3xl font-bold mt-2 md:mt-0"
            >
              {{ item.price * item.quantity | currency : "USD" : true }}
            </div>
          </div>

          <!-- Actions -->
          <div
            class="flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0 sm:space-x-2"
          >
            <button
              class="flex-1 text-center p-3 rounded-xl bg-[#5A534C] text-white cursor-pointer hover:bg-[#D4AF37] hover:text-black transition"
              (click)="decreaseQuantity(item)"
            >
              -
            </button>
            <button
              class="flex-1 text-center p-3 rounded-xl bg-[#D4AF37] text-black cursor-pointer hover:bg-[#5A534C] hover:text-white transition"
              (click)="increaseQuantity(item)"
            >
              +
            </button>
            <button
              class="flex-1 text-center p-3 rounded-xl bg-red-600 text-white cursor-pointer hover:bg-red-700 transition"
              (click)="removeItem(item)"
            >
              Remove
            </button>
          </div>
        </li>
      </ul>

      <!-- Total and Checkout -->
      <div
        class="mt-10 flex flex-col md:flex-row justify-between items-center bg-[#3A322B] rounded-xl p-5"
      >
        <div class="text-xl md:text-2xl font-bold">
          Total: {{ getTotal() | currency : "USD" : true }}
        </div>
        <button
          class="mt-3 md:mt-0 px-6 py-3 rounded-xl bg-[#D4AF37] text-black font-bold hover:bg-[#b7942f] transition"
          (click)="checkout()"
        >
          Proceed to Checkout
        </button>
      </div>
    </div>

    <!-- Empty Cart -->
    <ng-template #emptyCart>
      <div class="text-center text-xl md:text-2xl opacity-80">
        Your cart is empty ðŸ˜”
      </div>
    </ng-template>
  </section>
</main>
